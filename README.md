# pleasant

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## Overview

This package aims at making the analysis of [photoluminescence excitation](https://en.wikipedia.org/wiki/Photoluminescence_excitation) (PLE)
measurement data a pleasant experience.
It's main building block is the `Measurement` class. Objects of this class are generated by a loader function.
It reads all data files generated by a group of measurements in a directory.

At the moment, only one loader for one specific data saving scheme exists.
However, if you write your own custom loader function for your data saving scheme,
you can still make use of all data analysis features of this package.

## Attribution

If you are publishing any work based on using pleasant as an analysis tool, please mention it e.g. in the methods section
and consider citing the original scientific work that this package was written for:

[Optically coherent nitrogen-vacancy defect centers in diamond nanostructures](https://arxiv.org/abs/2203.05605)

## Features

- loading of data from separate files containing
  - wavelengths before and after each scan
  - registered count rates during the scan
- extendable to data saved in other schemes/formats
- easy handling of measurement metadata with the dedicated `Measurement` class
  - sensible treatment of excitation frequencies and registered count rates
  - access to measurement metadata (scan speed, scan range, user-defined description, ...)
  - rebinning of data
  - simple photon-count threshold filtering
  - fitting and plotting a sum of all scans powered by [lmfit](https://lmfit.github.io/lmfit-py/) and [matplotlib](https://matplotlib.org)
  - fitting of individual PLE scans with a peak-like model (Gaussian, Lorentzian, Voigt, Pseudo-Voigt)
  - plotting of scans with or without fit
  - straight-forward export of scan fit results as a [pandas](https://pandas.pydata.org) dataframe retaining all measurement metadata
- computation of time-normalized spectral jumps for extraction of the spectral diffusion rate

## Installation

pleasant is provided as a pip-installable python package. While not yet on the package index,
you can clone or download this repository to your local machine and install the package by running

`pip install -e .`

in the package directory. You might want to copy the `examples` directory to wherever you are going to work
on your data analysis for easier access.

## Documentation

The main resource for getting started is the demo notebook. It is located in the `examples` directory.
In addition, most functions in the code are documented with docstrings.
